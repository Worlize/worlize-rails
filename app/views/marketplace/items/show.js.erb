(function() {
    var previousContent;
    jQuery('<a>').fancybox({
        content: "<%= escape_javascript(render(:partial => 'item_detail_overlay')) %>",
        overlayOpacity: 0.2,
        transitionIn: 'elastic',
        transitionOut: 'fade',
        orig: "#item_thumb_<%= @item.id %> img",
        speedIn: 200,
        speedOut: 300,
        overlayShow: false,
        onComplete: function() {
            previousContent = jQuery('.item-detail-overlay');
            previousContent.css('visibility','').hide().fadeIn();
        },
        onCleanup: function() {

        }
    }).click();    
})();