(function() {
    var previousContent;
    jQuery('<a>').fancybox({
        content: "<%= escape_javascript(render(:partial => 'item_detail_overlay')) %>",
        openEffect: 'fade',
        closeEffect: 'fade',
        openSpeed: 200,
        closeSpeed: 300,
        afterShow: function() {
            previousContent = jQuery('.item-detail-overlay');
            previousContent.css('visibility','').hide().fadeIn();
        },
        afterClose: function() {

        },
        helpers: {
          overlay: {
            css: {
              "background": "rgba(0,0,0,0.3)"
            }
          }
        }
    }).click(); 
})();